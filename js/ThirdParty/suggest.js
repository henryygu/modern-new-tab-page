(function(c){function t(c,n){var k=e.createElement("link");k.rel=c;k.href=n;e.head.appendChild(k)}var e=c.document,x=/(?:(?:https?|ftp|chrome|chrome-extension):\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019])/gi,y=/^[a-z0-9]+(?:[.\-][a-z0-9]+)*[.](?:com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj| Ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw)\/?$/gi;
c.addEventListener("DOMContentLoaded",function(){function w(a,b){p+=1;var c=new XMLHttpRequest;n();m=c;u[p]=c;c.onload=function(){b(JSON.parse(c.responseText));delete u[p]};c.open("GET",a,!0);c.send(null)}function n(){m&&(m.onload=null,m.abort(),m=null)}function k(){k.done||(k.done=!0,t("preconnect",z),t("preconnect","https://www.googleapis.com"))}function l(a){a&&a.dataset&&(a=a.dataset.term);g.value=a;a=e.createEvent("HTMLEvents");a.initEvent("change",!1,!0);g.dispatchEvent(a)}function q(a){a.preventDefault();
if(a=c.silver_suggest.url||e.getElementById("search-input").value.trim()){var b;if(!(b=x.test(a)||y.test(a)))a:{b=a.split("://");b=(b[1]||b[0]).replace(/[\[\]]/g,"").split(".");for(var d=b.length;d--;)if(isNaN(b[d])||0>b[d]||255<b[d]){b=!1;break a}b=4==b.length}b?(-1==a.indexOf("://")&&(a="http://"+a),chrome.extension.sendMessage({name:"search-event-url"}),f.style.display="none",c.silver_suggest.suggestion&&(e.getElementById("search-input").value=c.silver_suggest.suggestion,h.style.display="none",
chrome.extension.sendMessage({name:"search-event-url-suggested"})),e.getElementById("search-input").classList.add("navigating"),c.location=a):(chrome.extension.sendMessage({name:"search-event"}),f.style.visibility="hidden",remove_silver_suggest(),e.forms["search-form"].submit())}}var u={},p=0,m,g=e.forms["search-form"].q;g.type="text";g.autocomplete="off";var A=g.offsetLeft,B=g.offsetTop,f=e.createElement("ul");f.id="suggestions";f.style.visibility="hidden";g.parentNode.appendChild(f);var h=e.createElement("div");
h.id="silver-suggest";h.style.top=B+0+"px";h.style.left=A+9+2+"px";g.parentNode.appendChild(h);var z=e.forms["search-form"].action;c.addEventListener("click",function(a){"INPUT"!=a.target.nodeName&&(f.style.visibility="hidden",remove_silver_suggest())});var d=f.getElementsByTagName("li"),v,r;g.oninput=function(a){var b=this.value,d=this.value;if(c.currentSearchTerm=d){var e=function(){var a=g,b=a.reduce(function(a,b){var c=d+"<b>"+b.slice(d.length)+"</b>";return a+'<li data-term="'+b+'">'+c+"</li>"},
"");f.innerHTML=b;f.style.visibility=a.length?"visible":"hidden"},g;r?e():0==c.silver_suggest.suggestion.indexOf(d)?(e(),update_silver_suggest_term(d)):(remove_silver_suggest(),d=d.trim());a="http://www.google.com/complete/search?client=firefox&q="+encodeURIComponent(d);w(a,function(a){c.currentSearchTerm==b&&(g=a[1].slice(0,5),e())})}else f.style.visibility="hidden",h.innerHTML="";return!1};g.onkeydown=function(a){k();var b=a.keyCode;r=8==v&&8==b;v=b;if(13==b)return n(),q(a),!1;if(!f.innerHTML)return!0;
if("hidden"===f.style.visibility)return f.style.visibility="visible",!0;setTimeout(function(){if(c.silver_suggest.suggestion&&g.value&&g.selectionEnd-g.selectionStart==g.value.length)return l(c.silver_suggest.suggestion),update_silver_suggest_term(c.silver_suggest.suggestion),g.selectionStart=0,!0},1);switch(a.keyCode){case 8:c.silver_suggest.suggestion&&(this.value.slice(0,-1),remove_silver_suggest(),r||a.preventDefault());break;case 38:remove_silver_suggest();a=d.length-1;for(b=a+1;b--;)if(d[b].classList.contains("active")&&
(d[b].classList.remove("active"),d[b-1]))return d[b-1].classList.add("active"),l(d[b-1]),!1;d[a].classList.add("active");l(d[a]);return!1;case 9:case 40:remove_silver_suggest();b=0;for(a=d.length-1;b<=a;b++)if(d[b].classList.contains("active")&&(d[b].classList.remove("active"),d[b+1]))return d[b+1].classList.add("active"),l(d[b+1]),!1;d[0].classList.add("active");l(d[0]);return!1;case 39:c.silver_suggest.suggestion&&(l(c.silver_suggest.suggestion),update_silver_suggest_term(c.silver_suggest.suggestion));
break;case 37:if(c.silver_suggest.suggestion)return remove_silver_suggest(),a.preventDefault(),!1;break;case 27:return f.style.visibility="hidden",!1}return!0};(function(a){function b(a,b){c.addEventListener("silver_suggest."+a,b)}function d(a){c.dispatchEvent(new Event("silver_suggest."+a))}function e(c){a.silver_suggest={el:h,suggestion:"",url:"",term:"",title:"",frecency:-1,addListener:b};h.innerHTML="";d("hide")}function g(b,c,f,h,k){b&&(b&&(a.silver_suggest.suggestion=c),c&&(a.silver_suggest.url=
f),f&&(a.silver_suggest.term=b),h&&(a.silver_suggest.title=h),k&&(a.silver_suggest.frecency=k));b=a.silver_suggest.term==a.silver_suggest.suggestion;a.silver_suggest&&!b?(b=silver_suggest.el,(c=a.silver_suggest)||(c=a.silver_suggest),f=c.title?" &ndash; "+c.title:"",c.term==c.suggestion&&(c.title=""),c="<span id='silver-match'>"+c.suggestion.slice(0,c.term.length)+"</span><span id='silver-rest'>"+c.suggestion.slice(c.term.length)+"</span><span id='silver-title'>"+f+"</span>",b.innerHTML=c,d("show")):
e(b)}e();a.update_silver_suggest_term=function(b){0==a.silver_suggest.suggestion.indexOf(b)?(a.silver_suggest.term=b,g()):e()};a.set_silver_suggest=g;a.remove_silver_suggest=e})(c);e.getElementById("search-input").addEventListener("mousedown",function(){c.silver_suggest.suggestion&&(e.getElementById("search-input").value=c.silver_suggest.suggestion,update_silver_suggest_term(c.silver_suggest.suggestion))});f.onclick=function(a){var b=a.target;"b"==b.nodeName.toLowerCase()&&(b=b.parentNode);"li"==
b.nodeName.toLowerCase()&&(remove_silver_suggest(),l(b),q(a))};f.onmousedown=function(){var a=$(".active",f)[0];a&&a.classList.remove("active")};e.getElementById("search-button").onclick=function(a){q(a)};e.forms["search-form"].onsubmit=function(a){a.preventDefault()};c.addEventListener("click",function(a){a=e.activeElement;/input|textarea/i.test(a.nodeName)||a.isContentEditable||a!=e.getElementById("search-input")&&e.getElementById("search-input").focus()})})})(window);